(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{42:function(t,e,n){t.exports=n(59)},47:function(t,e,n){},49:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),o=n(18),r=n.n(o),s=(n(47),n(34)),c=n(35),u=n(40),l=n(36),h=n(41),m=n(62),d=n(63),g=n(61),p=n(64),f=(n(49),n(51),n(53),n(55),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={locations:[],currentIndex:0,isLoading:!1},n}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.setState({isLoading:!0}),fetch("./locations.json").then(function(t){return t.json()}).then(function(e){t.setState({locations:e,isLoading:!1}),t.startTimer()}).catch(function(){return t.setState({isLoading:!1})})}},{key:"startTimer",value:function(){var t=this,e=0;this.state.locations.length>0&&(e=this.state.currentIndex+20),e>this.state.locations.length&&(e=0),this.setState({currentIndex:e}),setTimeout(function(){return t.startTimer()},100)}},{key:"getCurrentView",value:function(){var t=this.state.locations;if(t.length>0){var e=t[this.state.currentIndex];return i.a.createElement("div",null,i.a.createElement("div",null,this.formatTimestamp(e.t)),i.a.createElement("div",null,this.getMap(this.convertE7Coordinates(e.l))))}}},{key:"formatTimestamp",value:function(t){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}},{key:"convertE7Coordinates",value:function(t){return[t[1]/Math.pow(10,7),t[0]/Math.pow(10,7)]}},{key:"getMap",value:function(t){return i.a.createElement(m.a,{center:t,zoom:12,style:{width:"100%",margin:"auto",height:"600px"}},i.a.createElement(d.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.a.createElement(g.a,{position:t},i.a.createElement(p.a,null,"Last location.")))}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},this.state.isLoading?"Loading...":"".concat(this.state.locations.length," locations."),i.a.createElement("div",null,this.getCurrentView(this.state.locations)))}}]),e}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[42,2,1]]]);
//# sourceMappingURL=main.da078d1b.chunk.js.map